<link rel='stylesheet' href='https://cdn.rawgit.com/a-x-/image-diff-view/72678b7/index.css' type='text/css' charset='utf-8'>
<style>
.image-diff__control { display: block; }
</style>

<div class='image-diff' id='image-diff'>
  <div class='image-diff__inner'>
    <div class='image-diff__before'>
      <img/>
    </div>
    <div class='image-diff__wrapper'>
      <div class='image-diff__after'>
        <img/>
      </div>
    </div>
  </div>
</div>
<input type='range' class='image-diff__control' min='0' max='1' step='0.001' value='0.5'>

<div class='image-diff__mode-radio-group'>
  <label><input name="mode" type="radio" value="difference"><span>difference</span></label>
  <label><input name="mode" type="radio" value="fade"><span>fade</span></label>
  <label><input name="mode" type="radio" value="swipe" checked=""><span>swipe</span></label>
</div>

<script type="application/javascript" src='https://cdn.rawgit.com/a-x-/image-diff-view/72678b7/index.js'></script>
<script>
var beforeUrl = 'http://cezary.github.io/react-image-diff/public/img/spot-the-difference-a.jpg',
    afterUrl = 'http://cezary.github.io/react-image-diff/public/img/spot-the-difference-b.jpg';
var imageDiff = new ImageDiff(document.getElementById('image-diff'), beforeUrl, afterUrl, 'swipe');

var control = $('.image-diff__control');
imageDiff.domElems.before.addEventListener('load', function(){
    control.style.width = imageDiff.domElems.before.width;
    tune();
});
control.style.width = imageDiff.domElems.before.width;
control.addEventListener('input', function(){
    tune();
});

var modeRadio = $('.image-diff__mode-radio-group'),
    modeRadioVal;
modeRadio.addEventListener('click', function() {
  var mode = document.querySelector('input[name="mode"]:checked').value;
  if (mode !== modeRadioVal) {
    imageDiff.update(beforeUrl, afterUrl, mode);
    mode = modeRadioVal;
    tune();
  }
});

function tune() {
  if (imageDiff.props.mode !== 'difference') {
    imageDiff[imageDiff.props.mode](+control.value);
  }
}
</script>
